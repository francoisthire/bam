<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Std (bam.Bam.Std)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">bam</a> &#x00BB; <a href="../index.html">Bam</a> &#x00BB; Std</nav><header class="odoc-preamble"><h1>Module <code><span>Bam.Std</span></code></h1><p>Main module defining basic generators.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module anchored" id="module-Shrinker"><a href="#module-Shrinker" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Shrinker/index.html">Shrinker</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>This module contains the various strinking strategies which can be used with the generators below.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a t</span></span><span> = <span><span class="type-var">'a</span> <a href="../Gen/index.html#type-t">Gen.t</a></span></span></code></div><div class="spec-doc"><p>The type of random generators.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-return"><a href="#val-return" class="anchor"></a><code><span><span class="keyword">val</span> return : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>return v</code> is a generator for a constant value <code>v</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bind"><a href="#val-bind" class="anchor"></a><code><span><span class="keyword">val</span> bind : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>bind gen f</code> returns a new generator depending on another generator. This should be the main building block to construct new generator. To understand how shrinking works with this operator please read <a href="../../shrinking.html"><code>shrinking</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-root"><a href="#val-root" class="anchor"></a><code><span><span class="keyword">val</span> root : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>root gen f</code> applies <code>f</code> on the original value generated by <code>gen</code> and forgets about the shrinking. Hence, <code>f</code> is always applied to a single value. More details in <a href="../../shrinking.html"><code>shrinking</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-crunch"><a href="#val-crunch" class="anchor"></a><code><span><span class="keyword">val</span> crunch : <span>int <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>crunch i gen</code> returns a new generator with a more aggressive shrinking. It increases the number of values that will be used during the shrinking. More details in <a href="../../shrinking.html"><code>shrinking</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-int"><a href="#val-int" class="anchor"></a><code><span><span class="keyword">val</span> int : <span><span class="optlabel">?shrinker</span>:<span>int <a href="Shrinker/index.html#type-t">Shrinker.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="optlabel">?min</span>:int <span class="arrow">&#45;&gt;</span></span> <span><span class="optlabel">?max</span>:int <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <span>int <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>int ?shrinker ?(min=0) ?(max=Int.max_int) ()</code> is a generator for integers. Bounds are inclusive.</p><p>Default strategy is <a href="Shrinker/index.html#type-t.Int"><code>Shrinker.t.Int</code></a><code>0</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-int32"><a href="#val-int32" class="anchor"></a><code><span><span class="keyword">val</span> int32 : 
  <span><span class="optlabel">?shrinker</span>:<span>int32 <a href="Shrinker/index.html#type-t">Shrinker.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?min</span>:int32 <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?max</span>:int32 <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span>int32 <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>int ?shrinker ?(min=0) ?(max=Int.max_int) ()</code> is a generator for integers. Bounds are inclusive.</p><p>Default strategy is <a href="Shrinker/index.html#type-t.Int"><code>Shrinker.t.Int</code></a><code>0</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-int64"><a href="#val-int64" class="anchor"></a><code><span><span class="keyword">val</span> int64 : 
  <span><span class="optlabel">?shrinker</span>:<span>int64 <a href="Shrinker/index.html#type-t">Shrinker.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?min</span>:int64 <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?max</span>:int64 <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span>int64 <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>int ?shrinker ?(min=0) ?(max=Int.max_int) ()</code> is a generator for integers. Bounds are inclusive.</p><p>Default strategy is <a href="Shrinker/index.html#type-t.Int"><code>Shrinker.t.Int</code></a><code>0</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-float"><a href="#val-float" class="anchor"></a><code><span><span class="keyword">val</span> float : 
  <span><span class="optlabel">?shrinker</span>:<span>float <a href="Shrinker/index.html#type-t">Shrinker.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?min</span>:float <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?max</span>:float <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span>float <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>float ?shrinker ?(min=0.) ?(max=Float.max_float) ()</code> generates integers. Bounds are inclusive.</p><p>Default strategy is <a href="Shrinker/index.html#type-t.Float"><code>Shrinker.t.Float</code></a><code>0.</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pair"><a href="#val-pair" class="anchor"></a><code><span><span class="keyword">val</span> pair : <span><span class="optlabel">?shrinker</span>:<span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <a href="Shrinker/index.html#type-t">Shrinker.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>pair ?shrinker left right ()</code> generates a pair using the <code>left</code> and <code>right</code> generators.</p><p>Default strategy is <a href="Shrinker/index.html#type-t.Pair_left"><code>Shrinker.t.Pair_left</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bool"><a href="#val-bool" class="anchor"></a><code><span><span class="keyword">val</span> bool : <span><span class="optlabel">?shrinker</span>:<span>bool <a href="Shrinker/index.html#type-t">Shrinker.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>bool ?shrinker ()</code> generates a boolean.x</p><p>Default strategy is <a href="Shrinker/index.html#type-t.Bool"><code>Shrinker.t.Bool</code></a><code>false</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-char"><a href="#val-char" class="anchor"></a><code><span><span class="keyword">val</span> char : 
  <span><span class="optlabel">?shrinker</span>:<span><span class="xref-unresolved">Stdlib</span>.Char.t <a href="Shrinker/index.html#type-t">Shrinker.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?printable</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span>char <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>char ?shrinker ?(printable=true) ()</code> generates a char.</p><p>Default strategy is <a href="Shrinker/index.html#type-t.Char"><code>Shrinker.t.Char</code></a><code>'a</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-list"><a href="#val-list" class="anchor"></a><code><span><span class="keyword">val</span> list : <span><span class="optlabel">?shrinker</span>:<span><span><span class="type-var">'a</span> list</span> <a href="Shrinker/index.html#type-t">Shrinker.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">size</span>:<span>int <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>list ?shrinker ~size gen ()</code> generates a list of values using <code>gen</code>.</p><p>Default strategy is <a href="Shrinker/index.html#type-t.Prefix"><code>Shrinker.t.Prefix</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string"><a href="#val-string" class="anchor"></a><code><span><span class="keyword">val</span> string : 
  <span><span class="optlabel">?shrinker</span>:<span><span><span class="xref-unresolved">Stdlib</span>.Char.t list</span> <a href="Shrinker/index.html#type-t">Shrinker.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?char</span>:<span><span class="xref-unresolved">Stdlib</span>.Char.t <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">size</span>:<span>int <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span>string <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>string ?shrinker ?char ~size ()</code> is mostly an alias for <code>list
    ?shrinker ~char:(char ())</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bytes"><a href="#val-bytes" class="anchor"></a><code><span><span class="keyword">val</span> bytes : 
  <span><span class="optlabel">?shrinker</span>:<span><span><span class="xref-unresolved">Stdlib</span>.Char.t list</span> <a href="Shrinker/index.html#type-t">Shrinker.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?char</span>:<span><span class="xref-unresolved">Stdlib</span>.Char.t <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">size</span>:<span>int <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span>bytes <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>bytes ?shrinker ?char ~size ()</code> is mostly an alias for <code>list
    ?shrinker ~char:(char ~printable:false ()) ()</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-oneof"><a href="#val-oneof" class="anchor"></a><code><span><span class="keyword">val</span> oneof : <span><span class="optlabel">?shrinker</span>:<span>int <a href="Shrinker/index.html#type-t">Shrinker.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(int * <span><span class="type-var">'a</span> <a href="#type-t">t</a></span>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>oneof ?shrinker list</code> pick one generator of the list according to the distribution defined by the first elements of the list.</p><p>Default strategy is the same as for <code>int</code>. This generator can be thought as a repeated list of generators. The shrinker will choose particular index from the list.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-oneofg"><a href="#val-oneofg" class="anchor"></a><code><span><span class="keyword">val</span> oneofg : <span><span class="optlabel">?shrinker</span>:<span>int <a href="Shrinker/index.html#type-t">Shrinker.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>oneofg ?shrinker list</code> is an alias for <code>oneof ?shrinker (List.map (fun gen -&gt; (1, gen)) list)</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-oneofl"><a href="#val-oneofl" class="anchor"></a><code><span><span class="keyword">val</span> oneofl : <span><span class="optlabel">?shrinker</span>:<span>int <a href="Shrinker/index.html#type-t">Shrinker.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>oneofl ?shrinker list</code> is an alias for <code>oneofg ?shrinker (List.map Gen.return list</code></p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Syntax"><a href="#module-Syntax" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Syntax/index.html">Syntax</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></div></body></html>
